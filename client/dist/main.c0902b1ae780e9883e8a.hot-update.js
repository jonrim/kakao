webpackHotUpdate("main",{

/***/ "./client/src/components/chatroom/index.js":
/*!*************************************************!*\
  !*** ./client/src/components/chatroom/index.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Chatroom; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! semantic-ui-react */ \"./node_modules/semantic-ui-react/dist/es/index.js\");\n/* harmony import */ var react_resize_detector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-resize-detector */ \"./node_modules/react-resize-detector/lib/index.js\");\n/* harmony import */ var react_resize_detector__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_resize_detector__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var emoji_mart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emoji-mart */ \"./node_modules/emoji-mart/dist-es/index.js\");\n/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dropzone */ \"./node_modules/react-dropzone/dist/es/index.js\");\n/* harmony import */ var _chatroomMessages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chatroomMessages */ \"./client/src/components/chatroom/chatroomMessages/index.js\");\n/* harmony import */ var emoji_mart_css_emoji_mart_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! emoji-mart/css/emoji-mart.css */ \"./node_modules/emoji-mart/css/emoji-mart.css\");\n/* harmony import */ var emoji_mart_css_emoji_mart_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(emoji_mart_css_emoji_mart_css__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index.scss */ \"./client/src/components/chatroom/index.scss\");\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_7__);\n(function () {\n  var enterModule = __webpack_require__(/*! react-hot-loader */ \"./node_modules/react-hot-loader/index.js\").enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n\n\n\n\n\n\n\n\n\nvar Chatroom =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chatroom, _Component);\n\n  function Chatroom(props) {\n    var _this;\n\n    _classCallCheck(this, Chatroom);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Chatroom).call(this, props));\n    _this.state = {\n      search: false,\n      messageInput: '',\n      filesToSend: [],\n      chatHistory: [{\n        date: new Date(2018, 9, 20, 7, 30, 20, 0),\n        text: '보고시뿌 보낼려구 들어왔는데~',\n        friend: true,\n        firstMessageOfDay: true,\n        firstMessageOfMinute: true\n      }, {\n        date: new Date(2018, 9, 20, 7, 30, 55, 0),\n        text: '문자와있었네ㅋㅋ 잠깐 깼어요?',\n        friend: true,\n        firstMessageOfDay: false,\n        firstMessageOfMinute: false\n      }, {\n        date: new Date(2018, 9, 20, 7, 30, 58, 0),\n        text: '아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데  😅',\n        friend: false,\n        firstMessageOfDay: false,\n        firstMessageOfMinute: false\n      }, {\n        date: new Date(2018, 9, 20, 7, 31, 20, 0),\n        text: '아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데  😅',\n        friend: false,\n        firstMessageOfDay: false,\n        firstMessageOfMinute: false\n      }, {\n        date: new Date(2018, 9, 21, 7, 30, 20, 0),\n        text: '아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데  😅',\n        friend: false,\n        firstMessageOfDay: true,\n        firstMessageOfMinute: false\n      }, {\n        date: new Date(2018, 9, 21, 7, 30, 21, 0),\n        text: '아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데  😅',\n        friend: true,\n        firstMessageOfDay: false,\n        firstMessageOfMinute: true\n      }, {\n        date: new Date(2018, 9, 21, 7, 32, 22, 0),\n        text: '아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데 아까 진짜 슬펐어.. 누나가 뉴욕에 있었는데  😅',\n        friend: true,\n        firstMessageOfDay: false,\n        firstMessageOfMinute: true\n      }]\n    };\n    _this.showSearch = _this.showSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.showMore = _this.showMore.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeMessageInput = _this.changeMessageInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyPress = _this.handleKeyPress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.sendMessage = _this.sendMessage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.send = _this.send.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onResize = _this.onResize.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addEmoji = _this.addEmoji.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.sendMedia = _this.sendMedia.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Chatroom, [{\n    key: \"showSearch\",\n    value: function showSearch() {\n      var _this2 = this;\n\n      this.setState({\n        search: !this.state.search\n      }, function () {\n        if (_this2.state.search) document.getElementById('chatroom-search-input').focus();else document.getElementById('chatroom-type-input').focus();\n      });\n    }\n  }, {\n    key: \"showMore\",\n    value: function showMore() {}\n  }, {\n    key: \"changeMessageInput\",\n    value: function changeMessageInput(e) {\n      this.setState({\n        messageInput: e.target.value\n      });\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(e) {\n      if (e.key === 'Enter' && !e.shiftKey) {\n        e.preventDefault();\n        this.sendMessage();\n      }\n    }\n  }, {\n    key: \"scrollToBottom\",\n    value: function scrollToBottom() {\n      var chatMessagesDiv = document.getElementsByClassName('chatroom-messages')[0];\n      chatMessagesDiv.scrollTop = chatMessagesDiv.scrollHeight;\n    }\n  }, {\n    key: \"sameDate\",\n    value: function sameDate(a, b) {\n      return a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate();\n    }\n  }, {\n    key: \"sameMinute\",\n    value: function sameMinute(a, b) {\n      return a.getHours() === b.getHours() && a.getMinutes() === b.getMinutes();\n    }\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(e) {\n      var messageInput = this.state.messageInput;\n      if (messageInput === '') return;\n      this.send('text');\n    }\n  }, {\n    key: \"sendMedia\",\n    value: function sendMedia(files) {\n      this.send('media', files);\n    }\n  }, {\n    key: \"send\",\n    value: function send(typeOfMessage, files) {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          chatHistory = _this$state.chatHistory,\n          messageInput = _this$state.messageInput;\n      var sameDate = this.sameDate,\n          sameMinute = this.sameMinute;\n      var today = new Date();\n      var latestMessage = chatHistory[chatHistory.length - 1].date;\n      var sameDay = sameDate(today, latestMessage);\n      var sameTime = sameMinute(today, latestMessage);\n      this.setState({\n        messageInput: '',\n        filesToSend: typeOfMessage === 'media' ? files : null,\n        chatHistory: typeOfMessage === 'text' ? _toConsumableArray(chatHistory).concat([{\n          text: messageInput,\n          date: today,\n          friend: false,\n          firstMessageOfDay: !sameDay,\n          firstMessageOfMinute: !sameDay || sameDay && !sameTime\n        }]) : _toConsumableArray(chatHistory).concat(files.map(function (file) {\n          return {\n            file: file,\n            date: today,\n            friend: false,\n            firstMessageOfDay: !sameDay,\n            firstMessageOfMinute: !sameDay || sameDay && !sameTime\n          };\n        }))\n      }, function () {\n        console.log(files);\n\n        _this3.scrollToBottom();\n      });\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {\n      this.scrollToBottom();\n    }\n  }, {\n    key: \"displayEmojis\",\n    value: function displayEmojis() {\n      document.getElementsByClassName('emoji-mart')[0].classList.toggle('visible');\n    }\n  }, {\n    key: \"addEmoji\",\n    value: function addEmoji(emoji) {\n      this.setState({\n        messageInput: this.state.messageInput + emoji.colons\n      }, function () {\n        document.getElementById('chatroom-type-input').focus();\n      });\n    } // hideEmojiPickerOnClick(e) {\n    //   if (!e.target.closest('.emoji-mart').length) {\n    //     document.getElementsByClassName('emoji-mart')[0].classList.remove('visible');\n    //   }\n    // }\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.getElementById('chatroom-type-input').focus(); // window.addEventListener('click', this.hideEmojiPickerOnClick)\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {// window.removeEventListener('click', this.hideEmojiPickerOnClick)\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.chatroom.id !== this.props.chatroom.id) {\n        document.getElementById('chatroom-type-input').focus();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          chatroom = _this$props.chatroom,\n          changeFriendState = _this$props.changeFriendState,\n          mobileWindow = _this$props.mobileWindow;\n      var _this$state2 = this.state,\n          search = _this$state2.search,\n          chatHistory = _this$state2.chatHistory,\n          messageInput = _this$state2.messageInput;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_dropzone__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        className: \"dropzone\",\n        onDrop: this.sendMedia,\n        disableClick: true,\n        acceptClassName: \"dropzone-drag\"\n      }, function (_ref) {\n        var open = _ref.open;\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"chatroom\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"chatroom-nav\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BackButton, {\n          changeFriendState: changeFriendState\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n          className: \"chatroom-photo\",\n          src: chatroom.photo\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"chatroom-name\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, chatroom.name)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"button fas fa-search\",\n          onClick: _this4.showSearch\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"button fas fa-bars\",\n          onClick: _this4.showMore\n        })), search && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"search-container\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__[\"Input\"], {\n          focus: true,\n          icon: \"search\",\n          name: \"searchInput\",\n          id: \"chatroom-search-input\",\n          placeholder: \"Search\"\n        })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_chatroomMessages__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          chatHistory: chatHistory,\n          chatroom: chatroom\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          className: \"chatroom-type\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__[\"Form\"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_resize_detector__WEBPACK_IMPORTED_MODULE_2___default.a, {\n          handleWidth: true,\n          handleHeight: true,\n          onResize: _this4.onResize\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__[\"TextArea\"], {\n          autoHeight: true,\n          rows: \"2\",\n          id: \"chatroom-type-input\",\n          value: messageInput,\n          onChange: _this4.changeMessageInput,\n          onKeyPress: _this4.handleKeyPress\n        })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], {\n          size: \"mini\",\n          onClick: _this4.sendMessage\n        }, \"Send\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"bot-button far fa-smile-wink\",\n          onClick: _this4.displayEmojis\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"bot-button fas fa-paperclip\",\n          onClick: open\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"bot-button far fa-image\"\n        }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n          className: \"bot-button fas fa-phone\"\n        }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(emoji_mart__WEBPACK_IMPORTED_MODULE_3__[\"Picker\"], {\n          set: \"emojione\",\n          onSelect: _this4.addEmoji,\n          style: {\n            bottom: mobileWindow ? document.getElementsByClassName('chatroom-type')[0] ? document.getElementsByClassName('chatroom-type')[0].scrollHeight : 120 + 'px' : '0',\n            left: mobileWindow ? '0' : '-348px'\n          }\n        }));\n      });\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return Chatroom;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n\n\nvar BackButton = function BackButton(props) {\n  var changeFriendState = props.changeFriendState;\n\n  var goBack = function goBack() {\n    changeFriendState('chatroom', null);\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n    className: \"button fas fa-arrow-left\",\n    onClick: goBack\n  });\n};\n\n;\n\n(function () {\n  var reactHotLoader = __webpack_require__(/*! react-hot-loader */ \"./node_modules/react-hot-loader/index.js\").default;\n\n  var leaveModule = __webpack_require__(/*! react-hot-loader */ \"./node_modules/react-hot-loader/index.js\").leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Chatroom, \"Chatroom\", \"C:\\\\Users\\\\jonrim\\\\Desktop\\\\kakao\\\\client\\\\src\\\\components\\\\chatroom\\\\index.js\");\n  reactHotLoader.register(BackButton, \"BackButton\", \"C:\\\\Users\\\\jonrim\\\\Desktop\\\\kakao\\\\client\\\\src\\\\components\\\\chatroom\\\\index.js\");\n  leaveModule(module);\n})();\n\n;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))\n\n//# sourceURL=webpack:///./client/src/components/chatroom/index.js?");

/***/ })

})